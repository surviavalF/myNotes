文件恢复插件可以让你恢复库中数据，以避免各种意外（比如误操作、断电、错误使用插件或脚本等）导致的数据丢失事故。

文件恢复插件默认是开启的，毕竟等到数据丢失了再开启就无济于事了。

## 工作机制

### 文件快照

只要文件恢复插件被开启，你库中的所有文件都会以你设置好的频率生成快照。当超过了设置期限后，快照将被自动删除。

整个过程都是自动的。默认情况下，快照每 5 分钟生成一次，保存期限为 7 天。

### 恢复文件

当数据丢失后，你可以通过以下方式找到已保存的文件快照，然后通过快照恢复文件：

1. 打开`设置`
2. 打开`插件选项`下的`文件恢复`标签页
3. 点击`快照`后的`浏览`按钮
4. 在左侧的搜索栏中输入你想恢复的文件名。如果搜索栏中没有显示相应文件名，说明该文件没有已保存的快照。
5. 在搜索栏中选择需要恢复的文件，随后左侧会出现一系列快照列表。找到你需要的快照版本。
6. 点击之后，右侧将出现该版本的具体内容。你只需要点击“复制到剪贴板”然后再将其粘贴到相应文件即可。当然，你也可以手动复制你所需的部分内容。

## 设置项

### 快照生成间隔

即快照的生成周期，默认为 5 分钟生成一次。

### 快照保存时长

即快照的保存周期。默认为保存 7 天。

### 删除快照

即删除所有快照。需要注意的是，快照删除后是不可恢复的。

## 数据存储相关

文件恢复插件所使用的数据存储在[[Obsidian 如何存储数据#系统目录|相应的系统目录]]中。不存放在库目录是为了防止库文件夹出现故障。

需要注意的是，文件恢复插件是通过库的绝对路径来识别库的。也就是说，即使一个库的内容没变，但更改了位置，文件恢复插件也会将其视为一个新库，会重新开始生成快照。此时，如果想要使用过去生成的快照，你需要将该库还原到原路径。